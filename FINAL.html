<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitLife Coach - Client Assessment Form</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #3366cc;
            --secondary: #ff6b6b;
            --accent: #4ecdc4;
            --dark: #2d3436;
            --light: #f8f9fa;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --gray: #dfe6e9;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 900px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: var(--primary);
            color: white;
            padding: 25px 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 5px;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .progress-bar {
            display: flex;
            justify-content: space-between;
            padding: 20px 50px;
            background: var(--light);
            border-bottom: 1px solid var(--gray);
        }
        
        .step {
            text-align: center;
            position: relative;
            width: 100px;
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            background: white;
            border: 2px solid var(--gray);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 10px;
            font-weight: bold;
            color: var(--dark);
            transition: all 0.3s ease;
        }
        
        .step.active .step-number {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .step.completed .step-number {
            background: var(--success);
            color: white;
            border-color: var(--success);
        }
        
        .step-text {
            font-size: 14px;
            color: var(--dark);
            font-weight: 500;
        }
        
        .form-container {
            padding: 30px;
        }
        
        .form-section {
            display: none;
        }
        
        .form-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section-title {
            font-size: 22px;
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--gray);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }
        
        input, select, textarea {
            width: 100%;
            padding: 14px;
            border: 1px solid var(--gray);
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(51, 102, 204, 0.2);
        }
        
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .checkbox-item input {
            width: auto;
        }
        
        .btn-group {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        button {
            padding: 14px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-prev {
            background: var(--light);
            color: var(--dark);
        }
        
        .btn-prev:hover {
            background: var(--gray);
        }
        
        .btn-next, .btn-submit {
            background: var(--primary);
            color: white;
        }
        
        .btn-next:hover, .btn-submit:hover {
            background: #254e9c;
            transform: translateY(-2px);
        }
        
        .required::after {
            content: " *";
            color: var(--danger);
        }
        
        .error-message {
            color: var(--danger);
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        .success-message {
            text-align: center;
            padding: 40px;
        }
        
        .success-icon {
            font-size: 60px;
            color: var(--success);
            margin-bottom: 20px;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
           100% { transform: rotate(360deg); }
        }
        
        .stress-level {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 14px;
            color: var(--dark);
        }
        
        .error-section {
            text-align: center;
            padding: 40px;
        }
        
        .error-icon {
            font-size: 60px;
            color: var(--danger);
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .progress-bar {
                padding: 15px 20px;
            }
            
            .step {
                width: 70px;
            }
            
            .step-text {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>FitLife Coach Client Assessment</h1>
            <p>Complete this form to help us create your personalized fitness program</p>
        </div>
        
        <div class="progress-bar">
            <div class="step completed" id="step1">
                <div class="step-number">1</div>
                <div class="step-text">Personal Info</div>
            </div>
            <div class="step active" id="step2">
                <div class="step-number">2</div>
                <div class="step-text">Fitness Goals</div>
            </div>
            <div class="step" id="step3">
                <div class="step-number">3</div>
                <div class="step-text">Health Details</div>
            </div>
            <div class="step" id="step4">
                <div class="step-number">4</div>
                <div class="step-text">Lifestyle</div>
            </div>
        </div>
        
        <div class="form-container">
            <form id="fitness-form" action="https://formspree.io/f/mpwjwwej" method="POST">
                <!-- Section 1: Personal Information -->
                <div class="form-section active" id="section1">
                    <h2 class="section-title">Personal Information</h2>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName" class="required">First Name</label>
                            <input type="text" id="firstName" name="firstName" required>
                            <div class="error-message">Please enter your first name</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="lastName" class="required">Last Name</label>
                            <input type="text" id="lastName" name="lastName" required>
                            <div class="error-message">Please enter your last name</div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="email" class="required">Email Address</label>
                            <input type="email" id="email" name="email" required>
                            <div class="error-message">Please enter a valid email address</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="age" class="required">Age</label>
                            <input type="number" id="age" name="age" min="15" max="100" required>
                            <div class="error-message">Please enter a valid age</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="gender" class="required">Gender</label>
                            <select id="gender" name="gender" required>
                                <option value="">Select Gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                                <option value="prefer-not-to-say">Prefer not to say</option>
                            </select>
                            <div class="error-message">Please select your gender</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="height" class="required">Height (cm)</label>
                            <input type="number" id="height" name="height" min="100" max="250" required>
                        <div class="error-message">Please enter a valid height</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="weight" class="required">Weight (kg)</label>
                        <input type="number" id="weight" name="weight" min="30" max="200" step="0.1" required>
                        <div class="error-message">Please enter a valid weight</div>
                    </div>
                    
                    <div class="btn-group">
                        <div></div> <!-- Empty div for spacing -->
                        <button type="button" class="btn-next" onclick="showSection(2)">Next: Fitness Goals</button>
                    </div>
                </div>
                
                <!-- Section 2: Fitness Goals -->
                <div class="form-section" id="section2">
                    <h2 class="section-title">Fitness Goals</h2>
                    
                    <div class="form-group">
                        <label class="required">What are your primary fitness goals?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="goal-weightloss" name="goals" value="weightloss">
                                <label for="goal-weightloss">Weight Loss</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="goal-muscle" name="goals" value="muscle">
                                <label for="goal-muscle">Muscle Building</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="goal-endurance" name="goals" value="endurance">
                                <label for="goal-endurance">Endurance</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="goal-strength" name="goals" value="strength">
                                <label for="goal-strength">Strength Training</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="goal-flexibility" name="goals" value="flexibility">
                                <label for="goal-flexibility">Flexibility</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="goal-toning" name="goals" value="toning">
                                <label for="goal-toning">Toning</label>
                            </div>
                        </div>
                        <div class="error-message">Please select at least one goal</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="targetWeight">Target Weight (kg)</label>
                        <input type="number" id="targetWeight" name="targetWeight" min="30" max="200" step="0.1">
                    </div>
                    
                    <div class="form-group">
                        <label for="timeline" class="required">What is your timeline for achieving these goals?</label>
                        <select id="timeline" name="timeline" required>
                            <option value="">Select Timeline</option>
                            <option value="2weeks">2 weeks</option>
                            <option value="1month">1 month</option>
                            <option value="3months">3 months</option>
                            <option value="6months">6 months</option>
                            <option value="1year">1 year</option>
                        </select>
                        <div class="error-message">Please select a timeline</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="challenges">What challenges have you faced in reaching your fitness goals?</label>
                        <textarea id="challenges" name="challenges" rows="4"></textarea>
                    </div>
                    
                    <div class="btn-group">
                        <button type="button" class="btn-prev" onclick="showSection(1)">Previous</button>
                        <button type="button" class="btn-next" onclick="showSection(3)">Next: Health Details</button>
                    </div>
                </div>
                
                <!-- Section 3: Health Details -->
                <div class="form-section" id="section3">
                    <h2 class="section-title">Health Details</h2>
                    
                    <div class="form-group">
                        <label for="activityLevel" class="required">Current Activity Level</label>
                        <select id="activityLevel" name="activityLevel" required>
                            <option value="">Select Activity Level</option>
                            <option value="sedentary">Sedentary (little to no exercise)</option>
                            <option value="light">Lightly active (light exercise 1-3 days/week)</option>
                            <option value="moderate">Moderately active (moderate exercise 3-5 days/week)</option>
                            <option value="active">Active (hard exercise 6-7 days/week)</option>
                            <option value="very-active">Very active (very hard exercise, physical job)</option>
                        </select>
                        <div class="error-message">Please select your activity level</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="required">Do you have any injuries or medical conditions?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="radio" id="medical-no" name="medical" value="no" required>
                                <label for="medical-no">No</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="radio" id="medical-yes" name="medical" value="yes" required>
                                <label for="medical-yes">Yes</label>
                            </div>
                        </div>
                        <div class="error-message">Please select an option</div>
                    </div>
                    
                    <div class="form-group" id="medicalDetailsContainer" style="display: none;">
                        <label for="medicalDetails">Please describe your injuries or medical conditions:</label>
                        <textarea id="medicalDetails" name="medicalDetails" rows="4"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="diet">Current Diet</label>
                        <select id="diet" name="diet">
                            <option value="">Select Diet Type</option>
                            <option value="standard">Standard</option>
                            <option value="vegetarian">Vegetarian</option>
                            <option value="vegan">Vegan</option>
                            <option value="keto">Keto</option>
                            <option value="paleo">Paleo</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="allergies">Food Allergies or Restrictions</label>
                        <textarea id="allergies" name="allergies" rows="3" placeholder="List any food allergies or restrictions you have"></textarea>
                    </div>
                    
                    <div class="btn-group">
                        <button type="button" class="btn-prev" onclick="showSection(2)">Previous</button>
                        <button type="button" class="btn-next" onclick="showSection(4)">Next: Lifestyle</button>
                    </div>
                </div>
                
                <!-- Section 4: Lifestyle -->
                <div class="form-section" id="section4">
                    <h2 class="section-title">Lifestyle & Preferences</h2>
                    
                    <div class="form-group">
                        <label for="sleep" class="required">Average Hours of Sleep per Night</label>
                        <input type="number" id="sleep" name="sleep" min="3" max="12" step="0.5" required>
                        <div class="error-message">Please enter a valid number of hours</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="stress" class="required">Stress Level (1-10)</label>
                        <input type="range" id="stress" name="stress" min="1" max="10" value="5" required>
                        <div class="stress-level">
                            <span>Low</span>
                            <span>Medium</span>
                            <span>High</span>
                        </div>
                        <div class="error-message">Please indicate your stress level</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="required">Available Equipment</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="eq-gym" name="equipment" value="gym">
                                <label for="eq-gym">Gym Membership</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="eq-weights" name="equipment" value="weights">
                                <label for="eq-weights">Dumbbells/Weights</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="eq-machine" name="equipment" value="machine">
                                <label for="eq-machine">Exercise Machine</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="eq-band" name="equipment" value="band">
                                <label for="eq-band">Resistance Bands</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="eq-none" name="equipment" value="none">
                                <label for="eq-none">No Equipment</label>
                            </div>
                        </div>
                        <div class="error-message">Please select at least one option</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="workoutTime" class="required">Preferred Workout Time</label>
                        <select id="workoutTime" name="workoutTime" required>
                            <option value="">Select Time</option>
                            <option value="morning">Morning</option>
                            <option value="afternoon">Afternoon</option>
                            <option value="evening">Evening</option>
                            <option value="flexible">Flexible</option>
                        </select>
                        <div class="error-message">Please select your preferred workout time</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="comments">Additional Comments</label>
                        <textarea id="comments" name="comments" rows="4" placeholder="Anything else we should know?"></textarea>
                    </div>
                    
                    <div class="btn-group">
                        <button type="button" class="btn-prev" onclick="showSection(3)">Previous</button>
                        <button type="button" class="btn-submit" onclick="submitForm()">Submit Form</button>
                    </div>
                </div>
                
                <!-- Loading Indicator -->
                <div class="form-section" id="loading-section">
                    <div class="loading">
                        <div class="loading-spinner"></div>
                        <h3>Submitting your information...</h3>
                        <p>Please wait while we process your form.</p>
                    </div>
                </div>
                
                <!-- Success Message -->
                <div class="form-section" id="success-message">
                    <div class="success-message">
                        <div class="success-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h2>Thank You!</h2>
                        <p>Your information has been submitted successfully. Your personal fitness coach will contact you within 24 hours to discuss your customized plan.</p>
                    </div>
                </div>
                
                <!-- Error Message -->
                <div class="form-section" id="error-message">
                    <div class="error-section">
                        <div class="error-icon">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <h2>Submission Error</h2>
                        <p>There was a problem submitting your form. Please try again later or contact support if the problem persists.</p>
                        <button type="button" class="btn-submit" onclick="showSection(4)" style="margin-top: 20px;">Try Again</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Show/hide medical details based on selection
        document.getElementById('medical-yes').addEventListener('change', function() {
            document.getElementById('medicalDetailsContainer').style.display = this.checked ? 'block' : 'none';
        });
        
        document.getElementById('medical-no').addEventListener('change', function() {
            document.getElementById('medicalDetailsContainer').style.display = 'none';
        });
        
        // Form navigation
        function showSection(sectionNumber) {
            // Hide all sections
            document.querySelectorAll('.form-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById('section' + sectionNumber).classList.add('active');
            
            // Update progress bar
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('active', 'completed');
            });
            
            for (let i = 1; i <= 4; i++) {
                const step = document.getElementById('step' + i);
                if (i < sectionNumber) {
                    step.classList.add('completed');
                } else if (i === sectionNumber) {
                    step.classList.add('active');
                }
            }
        }
        
        // Form submission
        async function submitForm() {
            // Validate the final section first
            if (!validateCurrentSection(4)) {
                alert('Please complete all required fields before submitting.');
                return;
            }
            
            // Show loading indicator
            document.querySelectorAll('.form-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById('loading-section').classList.add('active');
            
            // Get the form element
            const form = document.getElementById('fitness-form');
            
            try {
                // Submit the form to Formspree
                const response = await fetch(form.action, {
                    method: 'POST',
                    body: new FormData(form),
                    headers: {
                        'Accept': 'application/json'
                    }
                });
                
                // Simulate network delay for demo
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                if (response.ok) {
                    // Show success message
                    document.querySelectorAll('.form-section').forEach(section => {
                        section.classList.remove('active');
                    });
                    document.getElementById('success-message').classList.add('active');
                } else {
                    throw new Error('Form submission failed');
                }
            } catch (error) {
                console.error('Error submitting form:', error);
                // Show error message
                document.querySelectorAll('.form-section').forEach(section => {
                    section.classList.remove('active');
                });
                document.getElementById('error-message').classList.add('active');
            }
        }
        
        // Validate current section
        function validateCurrentSection(sectionNumber) {
            let isValid = true;
            const currentSection = document.getElementById('section' + sectionNumber);
            
            // Check all required fields in this section
            currentSection.querySelectorAll('input[required], select[required]').forEach(input => {
                if (!input.value) {
                    isValid = false;
                    const errorElement = input.nextElementSibling;
                    if (errorElement && errorElement.classList.contains('error-message')) {
                        errorElement.style.display = 'block';
                    }
                }
            });
            
            // Special validation for checkboxes and radio buttons
            if (sectionNumber === 2) {
                const goalsSelected = currentSection.querySelectorAll('input[name="goals"]:checked').length > 0;
                if (!goalsSelected) {
                    isValid = false;
                    currentSection.querySelector('input[name="goals"]').closest('.form-group').querySelector('.error-message').style.display = 'block';
                }
            }
            
            if (sectionNumber === 3) {
                const medicalSelected = currentSection.querySelector('input[name="medical"]:checked');
                if (!medicalSelected) {
                    isValid = false;
                    currentSection.querySelector('input[name="medical"]').closest('.form-group').querySelector('.error-message').style.display = 'block';
                }
            }
            
            if (sectionNumber === 4) {
                const equipmentSelected = currentSection.querySelectorAll('input[name="equipment"]:checked').length > 0;
                if (!equipmentSelected) {
                    isValid = false;
                    currentSection.querySelector('input[name="equipment"]').closest('.form-group').querySelector('.error-message').style.display = 'block';
                }
            }
            
            return isValid;
        }
        
        // Basic input validation on blur
        document.querySelectorAll('input[required], select[required]').forEach(input => {
            input.addEventListener('blur', function() {
                const errorElement = this.nextElementSibling;
                if (errorElement && errorElement.classList.contains('error-message')) {
                    errorElement.style.display = this.value ? 'none' : 'block';
                }
            });
        });
        
        // Add validation when moving to next section
        const originalShowSection = window.showSection;
        window.showSection = function(sectionNumber) {
            if (sectionNumber > 1) {
                const currentSection = sectionNumber - 1;
                if (!validateCurrentSection(currentSection)) {
                    alert('Please complete all required fields before proceeding.');
                    return;
                }
            }
            originalShowSection(sectionNumber);
        };
    </script>
</body>
</html>